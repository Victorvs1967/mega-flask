<head>
    <title>
        {% if title %}
        {{ title }} - My Blog
        {% else %}
        Welcome to My Blog!
        {% endif %}
    </title>
    {{ bootstrap.load_css() }}
</head>

{% block body %}
{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="{{ url_for('main.index') }}">My Blog:</a>  
    {% if current_user.is_anonymous %}
    <a class="nav-link text-reset ml-auto" href="{{ url_for('auth.login') }}"> Login</a>        
    {% else %}
    <a class="nav-link text-reset" href="{{ url_for('main.explore') }}">Explore</a>
    <a class="nav-link text-reset" href="{{ url_for('main.user', username=current_user.username) }}">Profile</a>
    <div class="d-flex ml-auto">
        <span class="nav-link">Hello, {{ current_user.username }}</span>
        <a class="nav-link text-reset" href="{{ url_for('admin.index') }}">Admin</a>
        <a class="nav-link text-reset" href="{{ url_for('auth.logout') }}"> Logout</a>        
    </div>
    {% endif %}
</nav>
{% endblock %}
    
{% block content %}
<div class="container">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-info" role="alert">{{ message }}</div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    {% block app_content %}{% endblock %}
</div>    
{% endblock %}

{{ bootstrap.load_js() }}
{{ moment.include_moment() }}
{{ moment.lang(g.locale) }}

{% endblock %}

